#!/usr/bin/env php
<?php

require_once __DIR__ . '/../vendor/autoload.php';

$peersRepository = new \Naivechain\PeersRepository();

$server = new Naivechain\Server(
        '127.0.0.1',
        1234,
        new \Naivechain\QueryResolver([
            new \Naivechain\GetPeersQuery($peersRepository),
            new \Naivechain\AddPeerQuery($peersRepository)
        ])
);

$server->run();
